{"version":3,"sources":["../server/app.js"],"names":["require","config","app","PORT","process","env","use","req","res","next","header","bodyParser","json","urlencoded","extended","routes","express","static","path","join","__dirname","get","sendFile","listen","mongoose","connect","ONLINE_DATABASE"],"mappings":";;AACA;;;;AAEA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AAGA;;;;;;AAXAA,QAAQ,QAAR,EAAkBC,MAAlB;;AAEA,IAAMC,MAAM,wBAAZ;;;AAQA,IAAMC,OAAOC,QAAQC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;;;AAGAD,IAAII,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1BD,MAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,iCAA3C;AACAD;AACD,CALD;;AAOAP,IAAII,GAAJ,CAAQ,qBAAR;AACAJ,IAAII,GAAJ,CAAQK,qBAAWC,IAAX,EAAR;AACAV,IAAII,GAAJ,CAAQK,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAR;AACAZ,IAAII,GAAJ,CAAQ,SAAR,EAAmBS,gBAAnB;;AAEA;AACA;AACA;;AAEAb,IAAII,GAAJ,CAAQU,kBAAQC,MAAR,CAAeC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,uBAArB,CAAf,CAAR;;AAEAlB,IAAImB,GAAJ,CAAQ,IAAR,EAAc,UAAUd,GAAV,EAAeC,GAAf,EAAoB;AAChCA,MAAIc,QAAJ,CAAaJ,eAAKC,IAAL,CAAUC,SAAV,EAAqB,uBAArB,EAA8C,YAA9C,CAAb;AACD,CAFD;;AAKAlB,IAAIqB,MAAJ,CAAWpB,IAAX,EAAiB,YAAM;AACrBqB,qBAASC,OAAT,CAAiBxB,iBAAOyB,eAAxB;AACA,sBAAO,cAAP,8BAAiDvB,IAAjD;AACD,CAHD;;AAKA","file":"app.js","sourcesContent":["require('dotenv').config();\r\nimport express from \"express\";\r\nconst app = express();\r\nimport bodyParser from \"body-parser\";\r\nimport mongoose from \"mongoose\";\r\nimport { Logger } from \"./utils/Logger\";\r\nimport config from \"./utils/config\";\r\nimport routes from \"./routes/routes\";\r\nimport cors from \"cors\";\r\n\r\nconst PORT = process.env.PORT || 9000;\r\nimport path from 'path';\r\n\r\napp.use((req, res, next) => {\r\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\r\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\r\n  res.header(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS\");\r\n  next();\r\n});\r\n\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: true }));\r\napp.use(\"/api/v1\", routes);\r\n\r\n// app.get(\"/\", (req, res) => {\r\n//   res.send(\"<h1>SlammyPhotography Server</h1>\");\r\n// });\r\n\r\napp.use(express.static(path.join(__dirname, '../client/dist/client')));\r\n\r\napp.get('/*', function (req, res) {\r\n  res.sendFile(path.join(__dirname, '../client/dist/client', 'index.html'));\r\n});\r\n\r\n\r\napp.listen(PORT, () => {\r\n  mongoose.connect(config.ONLINE_DATABASE);\r\n  Logger(\"APP LISTENER\", `Server started on port ${PORT}`)\r\n});\r\n\r\n//const uri = `mongodb+srv://${config.db_username}:${config.password}@${config.cluster}.mongodb.net/${config.dbname}?retryWrites=true&w=majority`;\r\n"]}